<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="most opinionated blog"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="rss.xml" title="devthewild" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>devthewild</title><link rel="stylesheet" href="/blog/css/main.css" type="text/css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/blog/">devthewild</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/blog/" class="head-nav__link">Home</a></li><li class="head-nav__item"><a href="/blog/archives" class="head-nav__link">Archives</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2012-10-07T18:55:00.000Z" class="post__time">8th Oct, 2012</time><h1 class="post__title"><a href="/blog/2012/10/08/typescript-syntax-summary/">typescript syntax summary</a></h1></header><div class="post__main echo"><p>Microsoft가 며칠전 typescript를 발표했다. 아마 CoffeeScript처럼 ECMA Script 표준에 본격적으로 뛰어들기 위한 포석이 아닐까 싶은데, 어찌되었건 현재로는 무려 major IDE(라고는 하지만 Visual studio)에서도 강력하게 지원하고, 사람들이 많이 쓰는 <a href="http://blogs.msdn.com/b/interoperability/archive/2012/10/01/sublime-text-vi-emacs-typescript-enabled.aspx" target="_blank" rel="external">Sublime Text2, Emacs, Vim에서도 플러그인으로 지원</a>된다. 심지어 며칠전에 추가했던 SyntaxHighlighter의 <a href="http://ianobermiller.com/blog/2012/10/03/typescript-syntax-highlighting-for-wordpress/" target="_blank" rel="external">typescript 버전</a>도 벌써 올라왔다. 여하튼 좋은지 아닌지는 일단 적당히 써본 다음에 판단할 수 있으니 발이라도 살짝 담궈보기 위해서 Language Specification 문서를 받아봤으나 읽기엔 너무 길어서 dictation 연습이나 할까 하고 <a href="http://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript" target="_blank" rel="external">소개 동영상</a>을 보려고 시도했다...고 하지만 1분만에 포기하고 그냥 언급된 소스만 보면서 메모해놓은 것들을 정리해봤다.</p>
<h3>typescript syntax summary</h3>
<p>variable type (declared like scala)
// number, string, bool</p>
<p>var name:type;
array expression.
x: string[]</p>
<p>: lambda expression.
() =&gt; retVal</p>
<p>: arg =&gt; retVal
(a: number, b: string) =&gt; a + b</p>
<p>interface declaration and usage</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="interface"><span class="keyword">interface</span> Thing </span>&#123;</span><br><span class="line">    a: <span class="built_in">number</span>;</span><br><span class="line">    b: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params">x: Thing</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x.a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>object argument is expressed …</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">process</span><span class="params">(x: &#123;a: number, b: string&#125;)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x.a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>and also expressed</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function process(x: <span class="keyword">Thing</span>) &#123;</span><br><span class="line">    return x.a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>optional property</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="keyword">Thing</span> &#123;</span><br><span class="line">    a: number;</span><br><span class="line">    b?: string;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>method; function property</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="keyword">Thing</span> &#123;</span><br><span class="line">    a: number;</span><br><span class="line">    foo(s: string, n?: number): string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>method overload ...</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="keyword">Thing</span> &#123;</span><br><span class="line">    a: number;</span><br><span class="line">    foo(s: string, n?: number): string;</span><br><span class="line">    foo(n: number): number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var process = function(x: <span class="keyword">Thing</span>) &#123;</span><br><span class="line">    x.foo(<span class="string">"abc"</span>,1)</span><br><span class="line">    x.foo(<span class="string">"abc"</span>)</span><br><span class="line">    x.foo(1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>and also expressed</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="keyword">Thing</span> &#123;</span><br><span class="line">    a: number;</span><br><span class="line">    foo: &#123;</span><br><span class="line">        (s: string, n?: number): string;</span><br><span class="line">        (n: number): number;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>you cannot use that way</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="keyword">Thing</span> &#123;</span><br><span class="line">    a: number;</span><br><span class="line">    foo: &#123;</span><br><span class="line">        (n?: number, s: string): string;</span><br><span class="line">        (n: number): number;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>you may wanna use that, then compiler tells you
Optional parameters may only be followed by other optional parameters</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; (n?: <span class="type">number</span>,s: <span class="type">string</span>): <span class="type">string</span>; (n: <span class="type">number</span>): <span class="type">number</span>; &#125;</span><br></pre></td></tr></table></figure>
<p>method overload groupping</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="keyword">Thing</span> &#123;</span><br><span class="line">    a: number;</span><br><span class="line">    foo: &#123;</span><br><span class="line">        (s: string): string;</span><br><span class="line">        (n: number): number;</span><br><span class="line">        data: any;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var process = function(x: <span class="keyword">Thing</span>) &#123;</span><br><span class="line">    x.foo(1)</span><br><span class="line">    x.foo(<span class="string">"abc"</span>)</span><br><span class="line">    x.foo.data = 1</span><br><span class="line">    x.foo.data = <span class="string">"abc"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>pre-declared method overload: index method like array, constructor method</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="interface"><span class="keyword">interface</span> Thing </span>&#123;</span><br><span class="line">    a: <span class="built_in">number</span>;</span><br><span class="line">    b: <span class="built_in">string</span>;</span><br><span class="line">    foo: &#123;</span><br><span class="line">        (s: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line">        (n: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">        data: <span class="built_in">any</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">new</span> (s: <span class="built_in">string</span>): Element;</span><br><span class="line">    [index: <span class="built_in">number</span>]: <span class="built_in">Date</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>class definition</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Point &#123;</span><br><span class="line">    <span class="comment">// property</span></span><br><span class="line">    x: <span class="built_in">number</span>;</span><br><span class="line">    y: <span class="built_in">number</span>;</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(x: <span class="built_in">number</span>, y: <span class="built_in">number</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    dist() &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(<span class="keyword">this</span>.x*<span class="keyword">this</span>.x + <span class="keyword">this</span>.y*<span class="keyword">this</span>.y);</span><br><span class="line">    &#125;</span><br><span class="line">    static origin = <span class="keyword">new</span> Point(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line">p.x = <span class="number">10</span>;</span><br><span class="line">Point.origin.x;</span><br></pre></td></tr></table></figure>
<p>private member: but not in real, just compiler tells &quot;it can`t&quot;</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> color: <span class="keyword">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>-&gt;</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Point = (<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Point</span><span class="params">(x, y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.color = <span class="string">'red'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>constructor with declaration</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">constructor</span><span class="params">( <span class="keyword">public</span> x: number, <span class="keyword">public</span> y: number)</span></span></span><br></pre></td></tr></table></figure>
<p>constructor with default value</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">constructor</span><span class="params">( <span class="keyword">public</span> x: number = 0, <span class="keyword">public</span> y: number = 0)</span></span></span><br></pre></td></tr></table></figure>
<p>inheritance // can be use an acceessor (can be duplicated declaration in scope)</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Point &#123;</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(<span class="keyword">public</span> x: <span class="built_in">number</span>, <span class="keyword">public</span> y: <span class="built_in">number</span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> Point3D extends Point &#123;</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(x: <span class="built_in">number</span>, y: <span class="built_in">number</span>, <span class="keyword">public</span> z: <span class="built_in">number</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(x, y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>auto-generated closure // compare next sources</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tracker</span> </span>&#123;</span><br><span class="line">    count = <span class="number">0</span>;</span><br><span class="line">    start() &#123;</span><br><span class="line">        <span class="comment">// legacy expression</span></span><br><span class="line">        <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">        <span class="built_in">window</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            that.count++;</span><br><span class="line">            <span class="built_in">console</span>.log(that.count);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">(<span class="keyword">new</span> Tracker()).start();</span><br></pre></td></tr></table></figure>
<p>and</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tracker</span> </span>&#123;</span><br><span class="line">    <span class="keyword">count</span> = <span class="number">0</span>;</span><br><span class="line">    start() &#123;</span><br><span class="line">        <span class="comment">// lambda expression</span></span><br><span class="line">        window.onmousemove = e =&gt; &#123;</span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">count</span>++;</span><br><span class="line">            console.log(<span class="keyword">this</span>.<span class="keyword">count</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">new</span> Tracker()).start();</span><br></pre></td></tr></table></figure>
<p>module declaration</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span> Hierarchical.Module.Name.Is.Available &#123;</span><br><span class="line">    <span class="reserved">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;&#125;</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">PrivateClass</span> &#123;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span> Hierarchical.Module.Name.Is.Available &#123;</span><br><span class="line">    <span class="reserved">export</span> <span class="reserved">var</span> partialDeclare</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="reserved">var</span> shortedPath = Hierarchical.Module.Name.Is.Available</span><br><span class="line"><span class="reserved">var</span> p = <span class="keyword">new</span> shortedPath.Point</span><br></pre></td></tr></table></figure>
<p>external module and function</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// target.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="built_in">module</span> target &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">        bark = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"bow wow"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">version</span>(<span class="params"></span>)  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"v0.0.1"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.ts</span></span><br><span class="line">import t = <span class="function"><span class="title">module</span><span class="params">(<span class="string">"target"</span>)</span></span></span><br><span class="line">console.<span class="function"><span class="title">log</span><span class="params">( (new t.target.Dog)</span></span>.<span class="function"><span class="title">bark</span><span class="params">()</span></span> )</span><br><span class="line">console.<span class="function"><span class="title">log</span><span class="params">( t.version()</span></span> )</span><br></pre></td></tr></table></figure>
<p>=&gt;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">03</span>:<span class="number">13</span>:<span class="number">55</span>) <span class="built_in">test</span> seoh$ tsc main.ts <span class="operator">-e</span></span><br><span class="line">bow wow</span><br><span class="line">v0.<span class="number">0.1</span></span><br></pre></td></tr></table></figure>
<p>다른 소스를 보다보면 node.d.ts, jquery.d.ts같은 파일들이 있는데, declarations 옵션으로 컴파일을 하면 c/c++의 header와 같은 개념으로 decoration typescript(d.ts) 파일이 생성된다. 예를들어 위에 있는 target.ts를 컴파일하면</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">03</span>:<span class="number">50</span>:<span class="number">16</span>) test seoh$ tsc --declarations target.ts</span><br><span class="line">(<span class="number">03</span>:<span class="number">50</span>:<span class="number">23</span>) test seoh$ cat target.d.ts </span><br><span class="line">export module target &#123;</span><br><span class="line">    export <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> bark: () =&gt; string;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">export <span class="function"><span class="keyword">function</span> <span class="title">version</span><span class="params">()</span><span class="type">: string</span></span>;</span><br></pre></td></tr></table></figure>
<p>처럼 선언만 남게 된다.</p>
<p>요즘 만지작거리고 있는 스칼라와 문법이 흡사해서 재미있기도 하고, module, class 개념으로 큰 프로젝트에서 분업할 때 편하긴 할 것 같은데... 아직 어디에 써야할지는 감이 안온다. 다른거 만지다보면 누군가 이런저런 토픽을 던저줄테니 일단 받아먹을 준비 중.</p>
<p>* 위에서 언급된 소스들은 module 부분을 제외하고 Microsoft의 동영상 소개에서 가져온 내용이니 해당 소스들에 대한 권리는 MS에게 있습니다.</p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/blog/tags/typescript/" class="post__tag__link">typescript</a></li></ul><a href="/blog/2012/10/08/typescript-syntax-summary/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article><article class="post"><header class="post__head"><time datetime="2012-09-25T15:28:00.000Z" class="post__time">26th Sep, 2012</time><h1 class="post__title"><a href="/blog/2012/09/26/comparison-with-drm-free-ebook-publishers/">DRM-free eBook 출판사 비교</a></h1></header><div class="post__main echo"><p>&quot;<a href="http://www.insightbook.co.kr/post/2361" target="_blank" rel="external">인사이트가 PDF 서비스를 시작합니다.</a>&quot; 한국에서 최초로 DRM-free의 eBook을 출간한 회사가 '인사이트'가 아닐까.  4월 18일 저 글이 올라온 이후로 현재까지 인사이트에서는 <a href="http://ebook.insightbook.co.kr/" target="_blank" rel="external">인사이트 eBook</a>에서 11권의 책을 9800원(뽀모도로 테크닉)~27000원(파이썬 완벽 가이트)를 PDF로 판매하고 있다. 어디 한 플랫폼에 종속되는 것을 싫어해서 그때까지 eBook을 구매한 적이 없었는데 인사이트의 이 판매를 보고 반가워서 응원도 할 겸 이벤트(종이책을 구매하는 사람에게 일정기간동안 파이썬 완벽가이드를 27000-&gt;14000으로 할인)도 하는 겸 구매했던 것과 리팩터링 워크북을 포함해 2권을 구매했고 Closure나 Ruby 책도 고민 중에 있다. 그러던 차에 오늘 검색 중 반가운 소식을 들었다. IT서적 전문의 다른 출판사인 한빛미디어에서도 DRM-free eBook을 판매하기 시작했다는 <a href="http://www.hanb.co.kr/ebook/about_ebook.html" target="_blank" rel="external">소개페이지</a>를 발견했다.</p>
<p>IT말고 다른 분야에서도 DRM-free가 나왔으면 좋겠다는 생각도 들었지만 어쨌거나 보는 책의 반 이상, 아니 대다수가 IT관련 책이니 나에게는 좋은 일. &quot;유지보수하기 어렵게 코딩하는 방법: 평생 개발자로 먹고 살 수 있다&quot;라는 무료책을 비롯하여 현재 5권을 판매중이며 가격은 9900원(무료와 자바...를 제외한 나머지 세 책들)~11000원(자바 개발자를 위한 함수형 프로그래밍)로 인사이트에 비해 비교적 저렴한 편이나 대체로 얇은 책들 위주. 여하튼 굉장히 주관적이고 비논리적인 시각으로 특징을 비교해보자면</p>
<p><img src="/blog/images/comparison-with-drm-free-ebook-publishers/1.png" alt="" title="파이썬 완벽 가이드(인사이트) vs 함수형 프로그래밍(한빛미디어)">
<img src="/blog/images/comparison-with-drm-free-ebook-publishers/2.png" alt="" title="파이썬 완벽 가이드(인사이트) vs 함수형 프로그래밍(한빛미디어)"></p>
<ul>
<li>
<p>인사이트</p>
<ul>
<li>주로 기초 서적</li>
<li>(페이지 대비) 저렴한 가격
<ul>
<li>레퍼런스 북 위주라 두꺼운 책들</li>
</ul>
</li>
<li>출간본 그대로의 모습
<ul>
<li>작은 폰트</li>
<li>좌/우 페이지의 좌/우 여백이 다름</li>
</ul>
</li>
<li>구매시 불편함
<ul>
<li>하루 2번 배송</li>
<li>only 무통장입금</li>
</ul>
</li>
</ul>
</li>
<li>
<p>한빛미디어</p>
<ul>
<li>time to market 같은 책들
<ul>
<li>&quot;핵심적인 내용을 빠르게 전달하기 위해 조금 거칠지만 100page 내외의 전자책 전용&quot; - 소개 페이지 中</li>
</ul>
</li>
<li>eBook에 맞춘 편집
<ul>
<li>큰 폰트</li>
<li>(비교적) 적은 여백, 넓은 행간</li>
</ul>
</li>
<li>책보다는 포스팅이나 매거진 느낌
<ul>
<li>&quot;보완되고 발전된 노하우가 정리되면 구매하신 분께 무료로 업데이트&quot; - 소개 페이지 中</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>써놓고 나니 책 가격을 페이지에 비례해서 책정한다는건 무척 어리석은 일이지만 모든 책을 읽어볼 수 없으니 그냥 공개된 정보만 훑어보다가 들었던 생각이다. 어느 쪽이 더 좋은가? 어디가 더 많이 팔릴까? 라고 잠깐 생각을 해봤는데 둘 다 썩 좋은 질문은 아닌거 같다. 단순히 '편집'만 가지고 이야기를 하자면, 여백이나 행간은 한빛쪽이 확실히 읽기 좋고 폰트 자체는 인사이트쪽이 읽기 좋고, 작은 폰트는 아이패드류나 데스크탑에서 읽기 편하고 큰 폰트는 5&quot;~7&quot; 정도에서 읽기 편하다. (그 이하의 화면 크기는 PDF 자체가 읽기 불편하다.) 책 종류 자체도 인사이트는 기본서(혹은 레퍼런스)같은 느낌이고 한빛은  실용서(혹은 노하우)같은 느낌이다. 둘 다 필요한 종류의 책들.</p>
<p>비교 이외의 한가지 토픽을 더 던지자면, DRM-free에 대한 정보가 더 없나 검색하다가 &quot;<a href="http://www.hanb.co.kr/network/view.html?bi_id=1821" target="_blank" rel="external">DRM으로부터의 해방, 영원히</a>&quot;라는 글을 읽었다. 사실 eBook이 유행하기 전에도 어둠의 경로로는 만화/소설/잡지 등의 스캔이 떠돌고 있었고 여전히 그렇다. 이런 상황에서 DRM이 없어지면 '무단 복제'가 더 빈번해질까? 판매량이 더 감소할까? 저 링크 속의 글에 있는 &quot;이해할 수 없는 것은, 책 판매량은 줄지 않았다는 것이다. 사실, 판매량은 그 해에 살짝 올라갔다.&quot;라는 말이 한국의 실정에도 적용될 수는 없더라도 그 의미를 같이 하지 않을까. 그렇기에 인사이트나 한빛미디어에서도 이런 도전을 하고 있는 것이겠고, 그것을 응원한다 :)</p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/blog/tags/drm-free/" class="post__tag__link">drm-free</a></li><li class="post__tag__item"><a href="/blog/tags/eBook/" class="post__tag__link">eBook</a></li><li class="post__tag__item"><a href="/blog/tags/인사이트/" class="post__tag__link">인사이트</a></li><li class="post__tag__item"><a href="/blog/tags/한빛미디어/" class="post__tag__link">한빛미디어</a></li></ul><a href="/blog/2012/09/26/comparison-with-drm-free-ebook-publishers/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article><article class="post"><header class="post__head"><time datetime="2012-09-19T09:32:00.000Z" class="post__time">19th Sep, 2012</time><h1 class="post__title"><a href="/blog/2012/09/19/10-good-reasons-use-coffeescript/">커피스크립트를 쓰면 좋은 10가지 이유</a></h1></header><div class="post__main echo"><blockquote>
<h3>Translation of &quot;<a href="http://www.netmagazine.com/features/10-good-reasons-use-coffeescript" target="_blank" rel="external">10 good reasons to use CoffeeScript</a>&quot; into Korean, under the same license as the original.</h3>
</blockquote>
<p>Caike souza는 CoffeeScript의 어떤 점들이 좋은지, 왜 이게 프로젝트에서 쓰일만한지에 대해 보여줄 것이다.</p>
<p>커피스크립트는 최근에 만들어진 인기있는 언어다. 커피스크립트는 자바스크립트의 강력한 객체 모델을 훨씬 간단한 문법으로 사용할 수 있을 뿐만 아니라 이미 존재하는 특징들 또한 쓸 수 있다. 여전히 커피스크립트가 배울만하다고 생각한다면, 내 대부분의 프로젝트에서 왜 쓰고 있는 10가지 이유들을 보자.</p>
<h1>1. 깔끔한 문법</h1>
<p>C언어의 문법에서 강하게 영향을 받은 자바스크립트처럼이 아니라 커피스크립트의 문법은 루비와 파이썬에서 영향을 받았다. 파이썬과 루비 코드를 본 적이 있으면 커피스크립트의 문법 몇개가 친숙할 것이다. 세미콜론으로 문장을 구분하지 않고 줄 단위로, 메소드의 호출이나 조건을 쓰는데 괄호는 옵션, 공백에 민감하고, 이 모든건 훨씬 쉽게 읽기 위한 문법이다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">'Hello World'</span></span><br><span class="line">sayHello message</span><br></pre></td></tr></table></figure>
<h1>2. 자바스크립트의 좋은 부분만 생성</h1>
<p>자바스크립트에는 알려진 단점들이 있다. 커피스크립트는 항상 자바스크립트의 장점만을 생성하도록 최선을 다할 것이다. 한가지 예로 커피스크립트로 생성되는 모든 자바스크립트 파일은 자신의 영역(scope)를 가진다. 익명 함수로 코드를 감싸면 개발자가 이름이 충돌(naming collision)하지 않게 방지하고 전역 네임스페이스를 섞이지 않도록 해준다. 간단한 HelloWorld를 자바스크립트로 생성시킨건 다음과 같다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sayHello;  </span><br><span class="line">  sayHello = <span class="function"><span class="keyword">function</span>(<span class="params">message</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(message);</span><br><span class="line">  &#125;;  </span><br><span class="line">  sayHello(<span class="string">'Hello World'</span>);</span><br><span class="line">&#125;).call(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure>
<p>위의 예시에서 <code>sayHello</code> 함수는 익명 함수 내에서만 가능하고 전역 네임스페이스에는 추가되지 않는다.</p>
<h1>3. Fat Arrow</h1>
<p>자바스크립트는 진짜 강력하고 유연한 언어다. 그러나 때론 이 특징들이 개발자가 이때문에 추가적인 코드를 쓰도록 요구한다. 커피스크립트에서는 언어 내부에서 이런걸 해결한다.</p>
<p>다음 예제에서 우리는 callback 함수의 내부에서부터 커피 객체의 context로 접근한 필요가 있다. 자바스크립트 개발자들 사이에서 널리 사용되는 규칙으로, callback 함수 외부에서 객체의 context 내부 변수로 값을 전달한다, 그래서 callback 함수로부터 참조가 되고 있어야한다, 다음 예시처럼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> coffee = &#123;</span><br><span class="line">  isFull: <span class="literal">true</span>,</span><br><span class="line">  watchDrink: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    $(<span class="string">'.drink a'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      that.isFull = <span class="literal">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>이런 방법을 커피스크립트로 변환한다면 여전히 가능하다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">coffee =</span><br><span class="line">  <span class="attribute">isFull</span>: <span class="literal">true</span></span><br><span class="line">  <span class="attribute">watchDrink</span>: <span class="function">-&gt;</span></span><br><span class="line">    that = <span class="keyword">this</span></span><br><span class="line">    $(<span class="string">'.drink a'</span>).<span class="literal">on</span> <span class="string">'click'</span>, <span class="function">-&gt;</span></span><br><span class="line">      that.isFull = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>그러나 커피스크립트는 뚱뚱한 화살표 연산자(Fat Arrow Operation, 그냥 Fat Arrow는 원어로 표기해야겠다)로 똑같은걸 더 효과적으로 보여주는 방법이 있다. 이전의 커피스크립트 코드에서 이제 Fat Arrow를 쓰면 다음과 같다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">coffee =</span><br><span class="line">  <span class="attribute">isFull</span>: <span class="literal">true</span></span><br><span class="line">  <span class="attribute">watchDrink</span>: <span class="function">-&gt;</span></span><br><span class="line">    $(<span class="string">'.drink a'</span>).<span class="literal">on</span> <span class="string">'click'</span>, <span class="function">=&gt;</span></span><br><span class="line">      <span class="property">@isFull</span> = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>fat arrow를 사용하면, 커피의 context 안쪽으로 @ 연산자를 거쳐 callback 함수의 안쪽으로 참조할 수 있다. 커피스크립트에서 @는 <code>this</code> 키워드 대신이지만 =&gt; 안쪽에서만 사용가능하고, context 바깥의 this를 참조한다.</p>
<h1>4. String interpolation</h1>
<p>커피스크립트의 String interpolation은 루비처럼 작동한다. 자바스크립트에서처럼 +로 합치는 것 대신에 다음과 같이 겹따옴표 내부에서 #{} 안에 표현하면 된다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'John Doe'</span></span><br><span class="line"><span class="built_in">console</span>.log <span class="string">"Hi, my name is <span class="subst">#&#123;name&#125;</span>"</span></span><br></pre></td></tr></table></figure>
<h1>5. List comprehensions</h1>
<p>자바스크립트에서 엘리먼트 집합들을 하나씩 훑는 방법 중 가장 흔항 방법은 for 반복이다. 자바스크립트로 짠 for 반복의 간단한 예시다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">'Foo'</span>, <span class="string">'Bar'</span>, <span class="string">'Baz'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; names.length; i++)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(names[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>파이썬 세계에서 잘 알려진 list comprehension을 사용해 배열을 순회할 수 있게 해준다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'Foo'</span>, <span class="string">'Bar'</span>, <span class="string">'Baz'</span>]</span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="keyword">for</span> name <span class="keyword">in</span> names</span><br></pre></td></tr></table></figure>
<p>자바스크립트의 for문과는 다르게, list comprehensions는 표현식이므로 반환해서 할당할 수도 있다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'Foo'</span>, <span class="string">'Bar'</span>, <span class="string">'Baz'</span>]</span><br><span class="line">friends = (name <span class="keyword">for</span> name <span class="keyword">in</span> names <span class="keyword">when</span> name != <span class="string">'Bar'</span>)</span><br></pre></td></tr></table></figure>
<h1>6. Conditional modifier</h1>
<p>기본적으로 if와 unless같은 조건식을 postfix 형태로 쓸 수 있다. 아래 코드를 읽어보면 그냥 영어 문장을 읽는 것같이 들릴 것이다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">allowEntrance() <span class="keyword">unless</span> age &lt; <span class="number">21</span></span><br><span class="line">allowEntrance() <span class="keyword">if</span> age &gt;= <span class="number">21</span></span><br></pre></td></tr></table></figure>
<h1>7. the class keyword</h1>
<p>자바스크립트는 prototype의 객체지향언어라서 클래스 선언에 대한 내부적인 지원은 없다. 그러나 커피스크립트는 지원한다. 컴파일러가 자바스크립트 코드로 적당히 표현되게 필요한 해석들을 잘 해준다. 커피스크립트에서의 클래스는 아래처럼 쓸 수 있다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coffee</span>  </span></span><br><span class="line">  <span class="attribute">constructor</span>: <span class="function"><span class="params">(<span class="property">@name</span>)</span> -&gt;</span>  </span><br><span class="line"> </span><br><span class="line">  <span class="attribute">brew</span>: <span class="function">-&gt;</span></span><br><span class="line">    <span class="built_in">console</span>.log <span class="string">'Brewing'</span></span><br><span class="line"> </span><br><span class="line">  <span class="attribute">description</span>: <span class="function">-&gt;</span></span><br><span class="line">    <span class="built_in">console</span>.log <span class="string">"Coffee is <span class="subst">#&#123;<span class="property">@name</span>&#125;</span>"</span></span><br></pre></td></tr></table></figure>
<p>커피스크립트 클래스에서 객체를 만드는 방법은 자바스크립트에서 new 연산자를 통해 생성자 함수를 호출해서 만드는 방법과 완전히 똑같다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frenchCoffee = <span class="keyword">new</span> Coffee(<span class="string">'French'</span>)</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>전망</li>
</ol>
<p>자바스크립트의 창시자인 Brendan Eich처럼 자바스크립트 커뮤니티의 주요한 사람들이 커피스크립트 문법 표준화를 하고 있다. class 키워드를 통한 prototype 상속 같은 것들, @ 연산자나 =&gt;같은 것들은 실제로 몇년 안에 자바스크립트에 들어갈 것이다.</p>
<blockquote>
<p>&quot;커피스크립트의 class, super, @같은 문법적인 좋은 것들로 prototype의 상속을 표준화시키려고 열심히 만들고 있다&quot;</p>
</blockquote>
<p class="right">- 자바스크립트의 창시자, Brendan Eich</p>
<h1>9. 커뮤니티 전파</h1>
<p>RoR 3.1 버전부터 커피스크립트를 out-of-the-box(바로 쓸 수 있게끔) 지원하기 시작했다. 파이썬이나 PHP같은 다른 언어의 Web Framework들은 컴파일 단계를 지원하는 서드파티 라이브러리들을 갖고 있다. 또 많은 유닛 테스트 프레임워크들이 커피스크립트를 지원하기에 커뮤니티들이 활발히 포용하고 있다.</p>
<h1>10. 배우기 좋은 자원들</h1>
<p>커피스크립트 공식 웹사이트는 훌륭한 문서와 바로 돌려볼 수 있는 예제들을 제공한다. 언어가 어떻게 만들어졌는지 자세하게 파볼 사람들을 위해 소스코드 또한 웹사이트에 잘 문서화되어있고 읽을 수 있다. 더 배울 수 있도록 많은 온라인 강좌, 책, 전자책, 블로그 포스팅들이 있다. CodeSchool.com은 입문할 수 있는 무료 커피스크립트 강좌가 있는 곳이다.</p>
<hr>
<p>이것들 덕분에 커피스크립트에 더 관심을 갖게 되었다. 이 글이 커피스크립트가 배울 가치가 있는 언어인지에 대한 토론하는데 도움이 되길 바란다.</p>
<style type="text/css">
.right {text-align: right;}
</style></div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/blog/tags/coffeescript/" class="post__tag__link">coffeescript</a></li></ul><a href="/blog/2012/09/19/10-good-reasons-use-coffeescript/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article><article class="post"><header class="post__head"><time datetime="2012-09-12T12:52:00.000Z" class="post__time">12th Sep, 2012</time><h1 class="post__title"><a href="/blog/2012/09/12/coding-interview-p215-18-10/">코딩 인터뷰 완전 분석 215쪽 문제 18.10 풀이</a></h1></header><div class="post__main echo"><blockquote>
<p>사전에 등장하고 길이가 같은 두 단어가 주어졌을 때, 한 번에 글자 하나만 바꾸어 한 단어를 다른 단어로 변환하는 프로그램을 작성하라. 변환 과정에서 만들어지는 각 단어도 사전에 있는 단어여야 한다.
[실행 예]
input : DAMP, LIKE
output: DAMP -&gt; LAMP -&gt; LIMP -&gt; LIME -&gt; LIKE
[사전 데이터]
네 글자 단어 - <a href="http://www.insightbook.co.kr/wp-content/uploads/2012/09/word4.txt" target="_blank" rel="external">word4</a>
다섯 글자 단어 - <a href="http://www.insightbook.co.kr/wp-content/uploads/2012/09/word5.txt" target="_blank" rel="external">word5</a></p>
</blockquote>
<blockquote>
<p>[심화 문제 - 풀지 않아도 됩니다]
심화문제 1: 가장 적은 수의 단어를 써서 변환하도록 프로그램을 작성해봅시다.
심화문제 2: 가장 많은 수의 단어를 써서 변환하도록 프로그램을 작성해봅시다. 단, 변환 과정에서 같은 단어가 두 번 나오면 안됩니다.</p>
</blockquote>
<p>가장 단순한 접근.
모든 데이터를 메모리에 올려놓고, 앞에서부터 한글자씩 대입해서 사전에서 검색해보고 있으면 치환. 목적지에 도착할 때까지 반복. 혹시 한바퀴(문자열 길이)를 돌 때까지 치환할 단어가 없으면 찾을 수 없다고 판단. 일종의 Greedy로 답을 찾을 수는 있지만 가장 빠른 답인지 보장하지는 못한다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># synonym.coffee</span></span><br><span class="line">v = process.argv</span><br><span class="line"><span class="keyword">if</span> v.length &lt; <span class="number">5</span></span><br><span class="line">    process.exit -<span class="number">1</span></span><br><span class="line">n = parseInt v[<span class="number">3</span>]</span><br><span class="line">src = v[<span class="number">4</span>].toLowerCase()</span><br><span class="line">dst = v[<span class="number">5</span>].toLowerCase()</span><br><span class="line"></span><br><span class="line">data = <span class="built_in">require</span>(<span class="string">'fs'</span>).readFileSync <span class="string">'./word'</span> + n + <span class="string">'.txt'</span></span><br><span class="line">data = data.toString().split <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> data.indexOf(dst) <span class="keyword">is</span> -<span class="number">1</span></span><br><span class="line">    <span class="built_in">console</span>.log <span class="string">'dst does not exist in data text'</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log src</span><br><span class="line"><span class="keyword">while</span> src <span class="keyword">isnt</span> dst</span><br><span class="line">    __ = src</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">0.</span>..n]</span><br><span class="line">        temp = src.substring(<span class="number">0</span>, i) + dst.charAt(i) + src.substring(i+<span class="number">1</span>,n)</span><br><span class="line">        <span class="keyword">if</span> __ <span class="keyword">isnt</span> temp <span class="keyword">and</span> data.indexOf(temp) <span class="keyword">isnt</span> -<span class="number">1</span></span><br><span class="line">            src = temp</span><br><span class="line">            <span class="built_in">console</span>.log <span class="string">"-&gt; <span class="subst">#&#123;src&#125;</span>"</span></span><br><span class="line">            <span class="keyword">if</span> src <span class="keyword">is</span> dst <span class="keyword">then</span> <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> __ <span class="keyword">is</span> src</span><br><span class="line">        <span class="built_in">console</span>.log <span class="string">"IMPOSSIBLE"</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>그리고 출력값</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ coffee synonym.coffee 4 damp like</span><br><span class="line">damp</span><br><span class="line">-<span class="ruby">&gt; lamp</span><br><span class="line"></span>-<span class="ruby">&gt; limp</span><br><span class="line"></span>-<span class="ruby">&gt; lime</span><br><span class="line"></span>-<span class="ruby">&gt; like</span></span><br></pre></td></tr></table></figure>
<p>소스에서는 생략했지만, 6회(두번째 루프) 만에 찾았다.</p>
<p>Shorted Path나 Longest Path를 찾기 위해서는 edge에 index 정보를 기록하는 graph를 만들어야할꺼 같은데, 그러려면 모델링하는데만 O(n^2)만큼의 시간이 걸린다.</p>
<p>좀 더 좋은 방법을 찾아보자.</p>
</div><footer class="post__foot u-cf"><a href="/blog/2012/09/12/coding-interview-p215-18-10/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article><article class="post"><header class="post__head"><time datetime="2012-09-05T12:51:00.000Z" class="post__time">5th Sep, 2012</time><h1 class="post__title"><a href="/blog/2012/09/05/coding-interview-p210-17.3-modified/">코딩 인터뷰 완전 분석 210쪽 17.3 변형 문제 풀이</a></h1></header><div class="post__main echo"><blockquote>
<p>자연수 n을 입력받고, n!의 계산 결과 중 마지막에 붙은 연속된 0의 개수와 연속된 0 바로 앞에 나오는 숫자를 구하라.</p>
</blockquote>
<blockquote>
<p>[실행 예]
input n: 15
output: 3 8</p>
</blockquote>
<blockquote>
<p>[설명]
15!은 1307674368000이므로, 마지막에 연속된 0은 3개이고, 바로 앞의 숫자는 8이다.</p>
</blockquote>
<blockquote>
<ul>
<li>조건 *</li>
</ul>
</blockquote>
<blockquote>
<p>n의 범위는 1 이상, 10000 이하입니다.
테스트 입력은 다음과 같습니다.
20! = 2432902008176640000
30! = 265252859812191058636308480000000
40! = 815915283247897734345611269596115894272000000000
50! = 30414093201713378043612608166064768844377641568960512000000000000
100! = 93326215443944152681699238856266700490715968264381621468592963
8952175999932299156089414639761565182862536979208272237582511852
10916864000000000000000000000000
프로그래밍 언어에서 제공하는 자릿수 제한 없는 곱셈을 이용하거나, 이런 형태의 곱셈 함수를 직접 구현해도 답을 얻을 수 있지만, 문제의 의도와는 다릅니다.
정답 검토의 편의를 위해 블로그 포스팅에 2012!와 10000!의 결과를 남겨주세요.
(심화 문제) 연속된 0 앞에 나오는 여러 숫자를 구하는 것도 가능하니, 심심하신 분은 도전해보세요. ^^</p>
</blockquote>
<h3>1. Simple Approach</h3>
<p>아주 간단하게 생각해서 굳이 다 계산할 필요없이 마지막 원하는 자릿수만 남겨보자.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># simple.factorial.coffee</span></span><br><span class="line">n = <span class="number">1</span></span><br><span class="line">k = <span class="number">3</span></span><br><span class="line">N = <span class="number">2012</span></span><br><span class="line">digit = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">digit = digit * <span class="number">10</span> <span class="keyword">while</span> k-- <span class="keyword">isnt</span> <span class="number">0</span></span><br><span class="line">zero = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1.</span>.N]</span><br><span class="line">    n = n*i</span><br><span class="line">    <span class="keyword">while</span> n % <span class="number">10</span> <span class="keyword">is</span> <span class="number">0</span></span><br><span class="line">        n = n/<span class="number">10</span></span><br><span class="line">        zero++</span><br><span class="line"></span><br><span class="line">    n = n%digit</span><br><span class="line">    <span class="built_in">console</span>.log <span class="string">"<span class="subst">#&#123;i&#125;</span>! = ...<span class="subst">#&#123;n&#125;</span>*10^<span class="subst">#&#123;zero&#125;</span>"</span></span><br></pre></td></tr></table></figure>
<p>k는 원하는 자리 수. 3자리만 끊어서 보도록 했다. 결과는</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2012</span><span class="subst">!</span> <span class="subst">=</span> <span class="attribute">...</span><span class="number">928</span><span class="subst">*</span><span class="number">10</span>^<span class="number">501</span></span><br><span class="line"><span class="preprocessor">[</span>Finished <span class="keyword">in</span> <span class="number">0.7</span>s<span class="preprocessor">]</span><span class="markup"></span></span><br></pre></td></tr></table></figure>
<h3>2. without 2, 5</h3>
<p>0의 개수를 결정하는 2와 5는 따로 처리한다. N까지 숫자를 모두 곱해서 소인수분해를 하면 2가 5보다 항상 클까? non-zero digit of factorial로 검색하니 바로 맨 위에 이 <a href="http://comeoncodeon.wordpress.com/2009/06/20/lastnon-zero-digit-of-factorial/" target="_blank" rel="external">포스팅</a>이 나왔다. Approach1은 누구나 생각할 수 있고 2에 대한 수학적인 증명이 있어야할텐데 그건 차차 생각해보도록 하고 일단 구현해보도록 했다.</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#reduce2and5.factorial.coffee</span></span><br><span class="line">n = <span class="number">1</span></span><br><span class="line">k = <span class="number">3</span></span><br><span class="line">N = <span class="number">2012</span></span><br><span class="line"></span><br><span class="line">digit = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> k-- <span class="keyword">isnt</span> <span class="number">0</span></span><br><span class="line">    digit = digit * <span class="number">10</span></span><br><span class="line"></span><br><span class="line">zero = <span class="number">0</span></span><br><span class="line">n2 = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1.</span>.N]</span><br><span class="line">    j = i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> j % <span class="number">10</span> <span class="keyword">is</span> <span class="number">0</span></span><br><span class="line">        j /= <span class="number">10</span></span><br><span class="line">        zero++</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> j % <span class="number">2</span> <span class="keyword">is</span> <span class="number">0</span></span><br><span class="line">        j /= <span class="number">2</span></span><br><span class="line">        n2++</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> j % <span class="number">5</span> <span class="keyword">is</span> <span class="number">0</span></span><br><span class="line">        j /= <span class="number">5</span></span><br><span class="line">        n2--</span><br><span class="line">        <span class="built_in">console</span>.error i <span class="keyword">if</span> n2 <span class="keyword">is</span> <span class="number">0</span></span><br><span class="line">        zero++</span><br><span class="line"></span><br><span class="line">    n = n*j % digit</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> n2-- <span class="keyword">isnt</span> <span class="number">0</span></span><br><span class="line">    n = n*<span class="number">2</span> % digit</span><br><span class="line"><span class="built_in">console</span>.log <span class="string">"<span class="subst">#&#123;N&#125;</span>! = ...<span class="subst">#&#123;n&#125;</span>*10^<span class="subst">#&#123;zero&#125;</span>"</span></span><br></pre></td></tr></table></figure>
<p>결과는</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2012</span><span class="subst">!</span> <span class="subst">=</span> <span class="attribute">...</span><span class="number">928</span><span class="subst">*</span><span class="number">10</span>^<span class="number">501</span></span><br><span class="line"><span class="preprocessor">[</span>Finished <span class="keyword">in</span> <span class="number">0.2</span>s<span class="preprocessor">]</span><span class="markup"></span></span><br></pre></td></tr></table></figure>
<p>확실하게 줄었다. Approach3과 4에 대해서는 더 생각해봐야겠는데 일단 카페 마감 시간이라 나가도록 하겠다.</p>
</div><footer class="post__foot u-cf"><a href="/blog/2012/09/05/coding-interview-p210-17.3-modified/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article><article class="post"><header class="post__head"><time datetime="2012-09-01T12:50:00.000Z" class="post__time">1st Sep, 2012</time><h1 class="post__title"><a href="/blog/2012/09/01/coding-interview-p149-3-c/">문제로 풀어보는 알고리즘 149쪽 문제 3.c 풀이</a></h1></header><div class="post__main echo"><blockquote>
<p>자연수 n을 입력받아 집합 {0, 1, 2, …, n-1}을 하나 이상의 집합으로 나누는 방법을 모두 출력하는 프로그램을 작성하세요.
[실행 예]
input n: 3
{0, 1, 2}
{0} {1, 2}
{1} {0, 2}
{2} {0, 1}
{0} {1} {2}</p>
</blockquote>
<blockquote>
<ul>
<li>참고 *</li>
</ul>
<ol>
<li>n의 범위는 크게 상관이 없지만, 대략 16 이하라고 가정하시면 되겠습니다. ^^</li>
</ol>
</blockquote>
<ol start="2">
<li>집합으로 나눈 경우를 출력하는 방법은 상관없습니다.</li>
</ol>
<ul>
<li>{1} {0, 2}를 {0, 2} {1}로 표현해도 되고, 1, 0 2로 표현해도 됩니다. (다른 형식도)</li>
<li>또, {0} {1, 2}가 먼저 출력되든, {0} {1} {2}가 먼저 출력되든 상관 없습니다. 빠짐없이 출력하기만 하면 됩니다.</li>
</ul>
<p>곰곰히 생각해서 나름대로 잘 풀었다고 생각했는데 다른 사람들의 풀이를 보니 다 똑같아서 알고리즘의 설명은 생략하겠다. 그 대신에 잠깐 생각해본게 과연 이렇게 하나씩 추가하는 알고리즘에서 중복(순서가 바뀐 같은 집합)이 존재하지 않을까? 하는 의문이다. { ArrayN, ArrayM, ... } 이렇게 부분집합 n, m 이 있을 때 { ArrayM, ArrayN, ... } 라고 순서가 바뀐 다른 부분집합이 있을까? 답은 없다. n에서 제일 작은 n[0]과 m에서 제일 작은 m[0]가 있을 때 n[0] &lt; m[0]라면 항상 n[0]가 앞에 있는 집합에 속해있다. 크기 순서대로 입력이 된다고 가정했을 때 m[0]가 n[0]보다 앞에 있으려면 n[0]보다 작은 숫자가 먼저 입력되어있는 부분 집합에 m[0]가 속해야하는데 그럼 그 집합에서 가장 작은 숫자가 m[0]가 아니기 때문에 모순되므로 m[0]가 n[0]보다 앞에 올 수 없어서 중복된 집합은 존재하지 않는다.</p>
<p>그리고 coffeescript를 실행할 때 compile하고 다시 node로 실행시키는 일을 두번 하기 싫은데 coffee에서 직접 파일을 입력받아 실행시키는 옵션은 없고 stdio로 script text를 받아서 실행시키는 옵션은 있어서 출력한 뒤 파이프로 넘기게 계속 명령어를 입력했는데 (cat test.coffee | coffee -s) argument를 입력받게 되니 coffee파일까지 커서를 옮겼다가 다시 argument로 커서를 옮겼다가 하기 귀찮아서 bash script 문서를 구글링해서 하나 만들었다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> <span class="operator">-lt</span> <span class="number">1</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"you must give me coffee"</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">cat <span class="variable">$1</span> | coffee <span class="operator">-s</span> <span class="variable">$&#123;@:2&#125;</span></span><br></pre></td></tr></table></figure>
<p>중요한건 이게 아니고 다시 문제로 돌아가서 소스를 보자면</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># subset.coffee</span></span><br><span class="line">n = parseInt process.argv[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">Array.prototype.clone = <span class="function"><span class="params">()</span> -&gt;</span></span><br><span class="line">    ret = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> <span class="keyword">this</span></span><br><span class="line">        item = item.clone() <span class="keyword">if</span> item.constructor <span class="keyword">is</span> Array</span><br><span class="line">        ret.push item</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">data = [ [[<span class="number">0</span>]] ]</span><br><span class="line"><span class="function"></span><br><span class="line"><span class="title">add</span> = <span class="params">(arr, n)</span> -&gt;</span></span><br><span class="line">    ret = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> arr</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">0.</span>..row.length]</span><br><span class="line">            (c = row.clone())[i].push n</span><br><span class="line">            ret.push c</span><br><span class="line">        row.push [n]</span><br><span class="line">        ret.push row</span><br><span class="line">    ret</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1.</span>..n]</span><br><span class="line">    data = add data, i</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log data</span><br></pre></td></tr></table></figure>
<p>그리고 실행</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(21:58:11) coffee seoh$ ./c.sh subset.coffee 4</span><br><span class="line"><span class="comment">[ <span class="comment">[ <span class="comment">[ 0, 1, 2, 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 1, 2 ]</span>, <span class="comment">[ 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 1, 3 ]</span>, <span class="comment">[ 2 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 1 ]</span>, <span class="comment">[ 2, 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 1 ]</span>, <span class="comment">[ 2 ]</span>, <span class="comment">[ 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 2, 3 ]</span>, <span class="comment">[ 1 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 2 ]</span>, <span class="comment">[ 1, 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 2 ]</span>, <span class="comment">[ 1 ]</span>, <span class="comment">[ 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 3 ]</span>, <span class="comment">[ 1, 2 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0 ]</span>, <span class="comment">[ 1, 2, 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0 ]</span>, <span class="comment">[ 1, 2 ]</span>, <span class="comment">[ 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0, 3 ]</span>, <span class="comment">[ 1 ]</span>, <span class="comment">[ 2 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0 ]</span>, <span class="comment">[ 1, 3 ]</span>, <span class="comment">[ 2 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0 ]</span>, <span class="comment">[ 1 ]</span>, <span class="comment">[ 2, 3 ]</span> ]</span>,</span><br><span class="line">  <span class="comment">[ <span class="comment">[ 0 ]</span>, <span class="comment">[ 1 ]</span>, <span class="comment">[ 2 ]</span>, <span class="comment">[ 3 ]</span> ]</span> ]</span></span><br></pre></td></tr></table></figure>
<p>cat test.coffee | coffee -s로 실행을 하면 내부적으로 어떤 구조로 node를 실행시키는지 모르겠지만 [ 'node', '.', '-s' ] 라는 세 argument가 기본적으로 붙는다. 그런데 -s는 help에도 안나오고 직접 node -s로 하면 unrecognized flag라고 나오고. 뭔지 모르겠지만 귀찮아서 패스.</p>
<p>사실 처음에는 다른 방법으로 접근했다가 포기했다. 어차피 모든 부분집합의 원소의 합은 n으로 일정하니 일단 그 크기를 나누는 것을 n=4일 때를 예로 들어,</p>
<p>4
3 + 1
2 + 2
2 + 1 + 1
1 + 1 + 1 + 1</p>
<p>로 나타낼 수 있다. 각 행마다 하나씩 예로 들자면</p>
<p>{ 0, 1, 2, 3 }
{ 0, 1, 2 }, { 3 }
{ 0, 1 }, { 2, 3 }
{ 0, 1 }, { 2 } , { 3 }
{ 0 }, { 1 }, { 2 }, { 3 }</p>
<p>로 나타낼 수 있다. 그래서</p>
<figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># split.coffee</span></span><br><span class="line">n = parseInt process.argv[<span class="number">3</span>]</span><br><span class="line"><span class="function"></span><br><span class="line"><span class="title">split</span> = <span class="params">(n)</span> -&gt;</span></span><br><span class="line">    split.ret.clear</span><br><span class="line">    split.arr.clear</span><br><span class="line"></span><br><span class="line">    __split(n, <span class="number">0</span>, n)</span><br><span class="line">    split.ret</span><br><span class="line"></span><br><span class="line">split.arr = []</span><br><span class="line">split.ret = []</span><br><span class="line"><span class="function"></span><br><span class="line"><span class="title">__split</span> = <span class="params">(n, i, m)</span> -&gt;</span></span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">is</span> <span class="number">0</span></span><br><span class="line">        split.ret.push split.arr.slice(<span class="number">0</span>, i)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> m &gt; n</span><br><span class="line">        m = n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> [<span class="number">1</span> .. m]</span><br><span class="line">        split.arr[i] = j</span><br><span class="line">        __split n-j, i+<span class="number">1</span>, j</span><br><span class="line"></span><br><span class="line">n &amp;&amp; <span class="built_in">console</span>.log split n</span><br><span class="line">exports &amp;&amp; exports.split = split</span><br></pre></td></tr></table></figure>
<p>라고 [1.6 수분할] 챕터를 참고해서 만들었다. 그런데 이걸 깔끔하게 정리해서 개수를 맞춰서 경우의 수를 만들 수 있는 방법을 못찾아서 다른 방법을 강구하게 되었다. 단순히 생각했을 때, memoization처럼 <code>memo['2.1.1']['2'].indexOf('1.2')</code>라는 식으로 2+1+1을 '2.1.1'로 {1, 2}는 '1.2'처럼 문자열로 만들어서 HashMap을 하나 만들면 구현은 편한데 어차피 모든 경우의 수를 만들고 거기에서 필터링하는거나 마찬가지라 (정확히 말하면 '가지치기'의 방법이 떠오르지 않아서) 비효율적이라 포기했다. 나중에 시간나면 지금처럼 bottom-up같은 방법이 아니라 top-down으로 할 수 있는 방법이 없나 찾아봐야겠다.</p>
</div><footer class="post__foot u-cf"><a href="/blog/2012/09/01/coding-interview-p149-3-c/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article><article class="post"><header class="post__head"><time datetime="2012-08-30T07:40:00.000Z" class="post__time">30th Aug, 2012</time><h1 class="post__title"><a href="/blog/2012/08/30/coding-interview-0-3/">문제로 풀어보는 알고리즘 0.3 생각해보기 풀이</a></h1></header><div class="post__main echo"><figure class="highlight coffee"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rotate.coffee</span></span><br><span class="line">arr = [<span class="number">1.</span>.<span class="number">8</span>]</span><br><span class="line">s = <span class="number">2</span></span><br><span class="line">t = <span class="number">6</span></span><br><span class="line"><span class="function"></span><br><span class="line"><span class="title">rotate</span> = <span class="params">(k)</span> -&gt;</span></span><br><span class="line">    len = t-s+<span class="number">1</span></span><br><span class="line">    k = k % len</span><br><span class="line">    __rotate k, s, len</span><br><span class="line"><span class="function"></span><br><span class="line"><span class="title">__rotate</span> = <span class="params">(k, i, len)</span> -&gt;</span></span><br><span class="line">    <span class="keyword">if</span> len <span class="keyword">is</span> <span class="number">0</span> <span class="keyword">then</span> <span class="keyword">return</span></span><br><span class="line">    temp = arr[i]</span><br><span class="line">    next = (i-s+k) % (t-s+<span class="number">1</span>) + s</span><br><span class="line">    __rotate(k, next, len-<span class="number">1</span>)</span><br><span class="line">    arr[next] = temp</span><br><span class="line"></span><br><span class="line">rotate <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log arr <span class="comment"># [ 1, 2, 7, 3, 4, 5, 6, 8 ]</span></span><br></pre></td></tr></table></figure>
<p>CoffeeScript를 튜토리얼만 살짝 읽고 언젠가 써봐야지하면서 쓸 일이 없었는데 겸사겸사 이번 기회에 써봤다. 분명 타자는 더 적어진거 같은데 손에 안익어서 문서를 보면서 코딩해서 그런지 시간은 더 늘어난 기분. 튜토리얼말고 제대로 된 문서를 정독하고 나서 나중에 다시 도전해봐야겠다.</p>
<blockquote>
<p>배열 arr[]과 위치 s, t가 있을 때,
arr[s], arr[s+1], … , arr[t-1]을 오른쪽으로 한 칸씩 이동하고,
arr[t]는 arr[s]로 복사하는 것을 ’1만큼 오른쪽으로 회전시켰다’고 한다.
예를 들어 길이가 8인 배열에서 s=2, t=6이면 다음 그림처럼 바뀐다.
<img src="http://www.insightbook.co.kr/wp-content/uploads/2012/08/%EA%B7%B8%EB%A6%BC-0-1.jpg" alt="">
길이가 n인 배열의 위치는 0, 1, 2, … , n-1이다.
문제 :
k를 인자로 받아서 k만큼 오른쪽으로 회전시키는 함수를 작성하라.
단, 1만큼 오른쪽으로 이동시키는 과정을 k번 반복해서는 안 된다.
조건 1 : 작성하는 언어에는 제한이 없습니다.
조건 2 : 답안으로 작성하신 글 제목에는 ‘문제로 풀어보는 알고리즘 0.3 생각해보기 풀이’라는 문장이 들어가야 합니다. (저희 블로그에도 트랙백을 걸어주세요.)
(주의: 이 코딩 인터뷰는 인사이트 입사와는 무관합니다. ㅡㅁㅡ /)</p>
</blockquote>
<p>문제에 대해서 접근하자면, 간단하게 생각해서 마지막 숫자를 저장해두고 그 자리에 올 숫자를 마지막 숫자의 자리에 옮기고, 이걸 (t-s+1-1)번 (실제 옮겨지는 아이템의 수 -1) 옮기고 나서 처음에 저장해두었던 숫자를 k만큼 이동하면 된다. 그런데 모듈러 연산이라는게 역산하기 어려운고로 제일 쉬운 방법은 옮길 아이템의 수 (t-s+1) 만큼 공간을 만들고 값을 복사한 뒤에 그림에 나온 것처럼 t-s+1번 이동하는 방법이 제일 간단하고 명확했다. 그런데 몇줄 안나오는 코드로는 재미가 없어서 지금 있는 공간에서 해결할 수 있는 방법을 찾다가 요즘 읽고 있는 그 책에서 자꾸 재귀적인 알고리즘을 강요하듯 반복해서 재귀적으로만 풀이하니 전염이 되었나 한번 재귀적으로 풀어보고 싶었다.</p>
<p>단순하게 생각해서 arr만 가지고 풀기를 시도해보면, [2]에 있는 3을 [3]으로 옮기려한다. 그럼 [3]에 있는 4가 사라지니 3을 일단 메모리에게 들고 있으라고 한 뒤에 4부터 옮기고 3을 [3]에 넣으면 될 것이다. 이런 식으로 들어가야할 자리가 비어있지 않으면 잠시 메모리에 놓고 다음꺼부터 옮기다가 자리가 비어있으면 (t-s+1 번만큼 호출된 후에) 그냥 이동만 하고 아까 메모리에 놔두었던 것들을 원하는 자리에 차례대로 넣으면 된다. 문제는 이런 경우에 자료의 크기 자체에 더해서 call stack만큼의 비용을 추가로 부담하게 되니, 메모리 사용이 4*k에서 (4+@)*k로 늘어나게 되니 오히려 더 비효율적이 될 수도 있고, heap보다 stack이 조금 더 빠르니 비슷할 수도 있다. 원래의 의도는 그냥 재귀적으로 도전해보는 것이었으니 그 이상은 여기까지 생각하고 잘 돌아가는 것에서 만족하도록 하자.</p>
</div><footer class="post__foot u-cf"><a href="/blog/2012/08/30/coding-interview-0-3/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2015 Seoh Char</div><menu class="page-menu u-fr"><li class="page-menu__item"><a title="Previous" href="/blog/" class="page-menu__link icon-arrow-left"></a></li><li class="page-menu__item"><span title="Next" class="page-menu__link icon-arrow-right page-menu__link--disabled"></span></li></menu></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-52090105-1');ga('send','pageview');
</script></body></html>